{"version":3,"file":"block-library/multiple-feeds-calendar/view.js","mappings":"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","sources":["webpack://ucla-calendar-feeds-plugin/./src/block-library/multiple-feeds-calendar/view.js"],"sourcesContent":["const uclaCalendarIcsFeedsBlock = {\n    filterCalendars: function (e) {\n        /** \n         *  Not used at the moment. - ESat \n         * loop through feeds selected, set cookie, then form reloads page so that php block gets new cookie \n         *  \n         **/\n        //e.preventDefault();\n        const selected = e.target.elements[0].selectedOptions;\n        const feedIds = [];\n\n        if (selected.length > 0) {\n            for (let i = 0; i < selected.length; i++) {\n                feedIds.push(selected[i].value)\n            };\n\n            console.log(feedIds);\n            console.log(document.cookie)\n\n\n            document.cookie = \"ucla-calendar-feeds-plugin=\" + feedIds.toString();\n\n            console.log(document.cookie)\n\n\n        } else {\n            // no selection error handling here\n            console.log('nothing selected');\n        }\n\n        return false;\n    },\n\n    getUnselectSelectAllLinkComponent: function () {\n        const d = document;\n        const wrapper = d.createElement('div');\n        wrapper.classList = \"ics-calendar__filter-select-all-links\";\n\n        const unselectLink = d.createElement('a');\n        const unselectLinkContent = d.createTextNode('Unselect All');\n        unselectLink.append(unselectLinkContent);\n        unselectLink.addEventListener('click', function (e) { this.unselectAllCalFilters(e) }.bind(this));\n\n        const separationEl = d.createElement('span');\n        const separationElContent = d.createTextNode(' \\\\ ');\n        separationEl.append(separationElContent)\n\n        const selectLink = d.createElement('a');\n        const selectLinkContent = d.createTextNode('Select All');\n        selectLink.append(selectLinkContent);\n        selectLink.addEventListener('click', function (e) { this.selectAllCalFilters(e) }.bind(this));\n\n        wrapper.append(unselectLink);\n        wrapper.append(separationEl);\n        wrapper.append(selectLink);\n        return wrapper;\n    },\n\n\n    selectAllCalFilters: function (e) {\n        e.preventDefault();\n        const filters = this.getAllCalFilters();\n        filters.forEach(function (filter) {\n            if (!filter.checked) filter.click();\n\n        });\n    },\n\n    unselectAllCalFilters: function (e) {\n        e.preventDefault();\n        const filters = this.getAllCalFilters();\n        filters.forEach(function (filter) {\n            if (filter.checked) filter.click();\n        });\n    },\n\n    getAllCalFilters: function () {\n        return document.querySelectorAll('.ics-calendar-color-key-item input');\n    }\n\n}\n\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    /** \n     * The filter code below is no longer needed for now. Bene and Paul suggested using the filter that\n     *  comes with ICS Calendar out of the box\n     */\n    // const f = document.getElementById('ucla-select-calendars__form');\n    // if (typeof f !== 'undefined') {\n    //     f.addEventListener('submit', uclaCalendarIcsFeedsBlock.filterCalendars);\n    // }\n\n    /**\n     * Move the ICS Calendar plugin default filter to below the calendar. Per Bene and Paul mockup.\n     * https://www.figma.com/file/jSluE5XyTLaZztyZ2LViif/Calendar?node-id=0%3A1&t=p5QjXwPoMPpgkKGM-1\n     * \n     */\n    const d = document;\n    const calFilter = d.querySelector('.ics-calendar-color-key');\n    const calFilterWrapper = d.querySelector('.ics-calendar');\n    const filterWrapper = d.createElement('div');\n    filterWrapper.classList = 'ics-calendar__filter';\n\n    const header = d.createElement('h4');\n    const headerContent = d.createTextNode('Calendar Display Filter');\n    header.append(headerContent);\n\n    filterWrapper.append(header);\n    const selectUnselectLinks = uclaCalendarIcsFeedsBlock.getUnselectSelectAllLinkComponent();\n    filterWrapper.append(selectUnselectLinks);\n\n    if (typeof calFilter !== 'undefined' && typeof calFilterWrapper !== 'undefined') {\n        calFilter.remove();\n        filterWrapper.append(calFilter)\n        calFilter.classList = \"ics-calendar-color-key ics-calendar-color-key--visible\"\n        calFilterWrapper.prepend(filterWrapper);\n    }\n});\n\n"],"names":["uclaCalendarIcsFeedsBlock","filterCalendars","e","selected","target","elements","selectedOptions","feedIds","length","i","push","value","console","log","document","cookie","toString","getUnselectSelectAllLinkComponent","d","wrapper","createElement","classList","unselectLink","unselectLinkContent","createTextNode","append","addEventListener","unselectAllCalFilters","bind","separationEl","separationElContent","selectLink","selectLinkContent","selectAllCalFilters","preventDefault","filters","getAllCalFilters","forEach","filter","checked","click","querySelectorAll","calFilter","querySelector","calFilterWrapper","filterWrapper","header","headerContent","selectUnselectLinks","remove","prepend"],"sourceRoot":""}